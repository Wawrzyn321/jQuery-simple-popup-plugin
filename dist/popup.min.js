!function(p,o,e){"use strict";function t(o,e){const t=function(p){switch(p.popupPlacement){case"absolute-on-item":return{position:"absolute",placementMode:"on-item"};case"fixed-bottom":return{position:"fixed",placementMode:"bottom"};case"fixed-middle":return{position:"fixed",placementMode:"middle"};default:return console.warn(`popup: unrecognized placement: "${p.popupPlacement}", defaulting to "absolute-on-item"`),{position:"absolute",placementMode:"on-item"}}}(e),i=jQuery.popup.popupValues;-1===i.sides.indexOf(e.popupSide)&&(console.warn(`popup: unrecognized side: "${e.popupSide}", defaulting to "${jQuery.popupDefaults.popupSide}"`),e.popupSide=jQuery.popupDefaults.popupSide),-1===i.animations.indexOf(e.popupAnimation)&&(console.warn(`popup: unrecognized animation type: "${e.popupAnimation}", defaulting to "${jQuery.popupDefaults.popupAnimation}"`),e.popupAnimation=jQuery.popupDefaults.popupAnimation);const n=parseFloat(e.popupAnimationSpeed);Number.isNaN(n)&&void 0===i.animationSpeeds[e.popupAnimationSpeed]&&(console.warn(`popup: unrecognized animation speed: "${e.popupAnimationSpeed}", defaulting to "${jQuery.popupDefaults.popupAnimationSpeed}"`),e.popupAnimation=jQuery.popupDefaults.popupAnimationSpeed),o[0].popupData=p.extend(e,t)}function i(e){const{position:t,top:i}=function(e){const t=e[0].popupData.position,i=e[0].popupData.popupPlacement,n=e.outerHeight(!0),u=p(o).scrollTop(),a=p(o).height();if("absolute"===t){const p=e[0].popupData.$lastInvoker;if(!p||void 0===p[0])return console.warn("getVerticalPosition: $lastInvoker is not set!"),{position:t,top:0};const o=p[0].getBoundingClientRect(),i=o.height;return{position:t,top:u+o.y+i/2-n/2}}if("bottom"==i)return{position:t,top:u+a-n};return{position:t,top:u+a/2-n/2}}(e),{left:n,right:u}=function(p){return"left"==p[0].popupData.popupSide?{left:0,right:"auto"}:{left:"auto",right:0}}(e);e.css({position:t,top:i,left:n,right:u})}jQuery.popup={popupValues:{sides:["right","left"],placements:["absolute-on-item","fixed-bottom","fixed-middle"],animations:["slide","fade","none"],animationSpeeds:jQuery.fx.speeds},popupDefaults:{popupSide:"right",popupOnEnded:p.noop,popupPlacement:"absolute-on-item",popupAnimation:"slide",popupAnimationSpeed:"_default"}},jQuery.fn.popup=function(o){return this.each(function(){!function(o,e){e=p.extend({},jQuery.popup.popupDefaults,o.data(),e),t(o,e),function(p){p.on("click",".popup-close",function(o){p[0].hidePopup()})}(o),o[0].showPopup=function(e){o.addClass("popup-visible"),o[0].popupData.$lastInvoker=e.jquery?e:p(e),i(o),function(p){const o=p[0].popupData.popupAnimation,e=p[0].popupData.popupAnimationSpeed;if("fade"===o)p.hide().fadeIn(e);else if("slide"===o)if("left"===p[0].popupData.popupSide)p.css("left",-p.width()).animate({left:"0"},e);else{const o=p.css("left");p.css("left",o+p.width()).animate({left:o},e)}}(o)},o[0].hidePopup=function(){!function(p,o){const e=p[0].popupData.popupAnimation,t=p[0].popupData.popupAnimationSpeed;if("fade"===e)p.fadeOut(t,o);else if("slide"===e)if("left"===p[0].popupData.popupSide)p.animate({left:-p.width()},t,o);else{const e=p.css("left");p.animate({left:e+p.width()},t,o)}else o()}(o,function(){o.removeClass("popup-visible"),(0,o[0].popupData.popupOnEnded)()})},"true"===e.show&&o[0].showPopup()}(p(this),o)}),this},p(function(){p(o).on("resize",function(){p(".popup-visible").each(function(){i(p(this))})}),p(e).on("click","popup-link",function(p){console.log(p.target)}),Number.isNaN=Number.isNaN||isNaN})}(jQuery,window,document);